<!DOCTYPE html>
<html style="height: 100vh">
<head>
<title>TurtleDuck</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
	integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
	integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
	crossorigin="anonymous"></script-->
<!-- link rel="stylesheet"
	href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" /-->
<!--  link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
	integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
	crossorigin="anonymous" -->

<script type="text/javascript" charset="utf-8" src="static/js/bundle.js"></script>
<script type="text/javascript" charset="utf-8"
	src="static/js/classes.js"></script>
<script type="text/javascript" charset="utf-8"
	src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
<script type="text/javascript" charset="utf-8"
	src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-java.min.js"></script>
<link rel="stylesheet" href="static/style.css" />
</head>
<body onload="main()">

	<div id="page" class="main-and-figure">
		<header>
			<nav id="top-left">
				<img id="logoimg" src="static/images/turtleduck.svg" /> <a
					id="logotext" href="#"> TurtleDuck <span class="version">v${project.version}</span>
					<!-- span id="pond">&nbsp;</span-->
				</a>

			</nav>
			<nav id="top-menu">
				<button id="f1" data-shortcut="ctrl+s" class="row2" type=button>
					<span class="">Save</span><span class="icon">💾</span>
				</button>
				<button id="f2" data-shortcut="ctrl+2" class="row2" type=button>
					<span class="">Run</span><span class="icon">🏃</span>
				</button>
				<button id="f3" data-shortcut="ctrl+3" class="row2" type=button>
					<span class="">Test</span><span class="icon">🎈</span>
				</button>
				<button id="f4" data-shortcut="ctrl+4" class="row2" type=button>
					<span class=""></span>
				</button>
				<button id="f5" data-shortcut="ctrl+5" class="row2" type=button>
					<span class="">Explorer</span><span class="icon">🗺️</span>
				</button>
				<button id="f6" data-shortcut="ctrl+6" class="row2" type=button>
					<span class="">Code</span><span class="icon">📖</span>
				</button>
				<button id="f7" data-shortcut="ctrl+7" class="row2" type=button>
					<span class="">Command</span><span class="icon">⌨️</span>
				</button>
				<button id="f8" data-shortcut="ctrl+8" class="row2" type=button>
					<span class="">Graphics</span><span class="icon">🎨</span>
				</button>
				<button id="f9" data-shortcut="ctrl+9" class="row2" type=button>
					<span class="">Code/Gfx</span><span class="icon">🖥️</span>
					<!-- 🖼️ -->
				</button>
				<button id="f11" data-shortcut="shift+ctrl+1" class="row1"
					type=button>
					<span class="long">Exercises</span><span class="icon">👩‍🏫</span>
				</button>
				<button id="f12" data-shortcut="shift+ctrl+2" class="row1"
					type=button>
					<span class="">Debug</span><span class="icon">🐛</span>
				</button>
				<button id="f13" data-shortcut="shift+ctrl+3" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f14" data-shortcut="shift+ctrl+4" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f15" data-shortcut="shift+ctrl+5" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f16" data-shortcut="shift+ctrl+6" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f17" data-shortcut="shift+ctrl+7" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f18" data-shortcut="shift+ctrl+8" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f19" data-shortcut="shift+ctrl+9" class="row1"
					type=button>
					<span class="">Java ↓</span><span class="icon">☕</span>
				</button>
			</nav>
			<nav id="top-right"></nav>
		</header>

		<fieldset id="explorer" class="box explorer widget">
			<legend>
				<span class="title">Explorer</span>
			</legend>
			<h2>Imports</h2>
			<ul id="explorer-imports" data-role="listview">
				<li class="package">java.util</li>
				<li class="java">TShell</li>
			</ul>
			<h2>Types</h2>
			<ul id="explorer-types"></ul>
			<h2>Methods</h2>
			<ul id="explorer-methods"></ul>
			<h2>Variables</h2>
			<ul id="explorer-variables"></ul>
		</fieldset>

		<fieldset id="editor" class="box widget" data-widget="editor"
			data-provides="editor">
			<legend id="editor-tabs" class="">Code</legend>
			<div id="editor-wrap">
				<div id="editor-embed"></div>
			</div>
		</fieldset>

		<!--div id="right-size" style="position:absolute;left:0px;margin-left:-5px;height:100%;width:5px;background:#ccc;z-index:100" ></div-->
		<fieldset id="figure0" class="box figure">
			<legend>
				<span class="title">Graphics</span>
			</legend>
			<nav class="toolbar">
				<button id="gfx-clear" type="button">Clear</button>
				<button id="gfx-save" type="button">Save</button>
			</nav>
			<div>
				<svg id="svg0" viewBox="0 0 1280 720"
					preserveAspectRatio="xMinYMin slice"></svg>
			</div>
			<div class="box-foot">SVG</div>
		</fieldset>
		<fieldset id="instructions" class="box widget figure"
			data-widget="instructions" data-provides="instructions"
			style="display: none">
			<legend>Method Bytecode</legend>
			<div id="bytecode-display"></div>
		</fieldset>

		<!-- div style="width: 100%; height: 10px; background: #f00"
			draggable="true"></div-->
		<fieldset id="console" class="box console">
			<legend>
				<span class="title">Console</span>
			</legend>
			<!--div id="code-size" style="position:relative;top:0px;margin-top:-5px;width:100%;height:5px;background:#ccc;z-index:100"></div-->
			<div id="xtermjs-wrap" class="widget" data-widget="xtermjs"
				data-requires="jshell"></div>
		</fieldset>

		<footer id="bottom">
			<div id="foot-left"></div>
			<div id="status" class="active"></div>
			<div id="error">
				<ul id="error-pop" class="popup"></ul>
				<button id="error-button" type="button">ERR!</button>
			</div>
		</footer>
	</div>
	<script>
function resizable(element,handle,direction,callback) {
	var start, size = 0;
	handle.onmousedown = mouseDown;
	function mouseDown(e) {
		e = e || window.event;
		console.log("resize start: ")
		console.log(e);
		e.preventDefault();
		if(direction == 'h') {
			start = e.clientX;
			size = element.clientWidth;
		} else {
			start = e.clientY;
			size = element.clientHeight;			
		}
		document.onmouseup = mouseUp;
		document.onmousemove = mouseMove;
	}
	
	function mouseMove(e) {
		e = e || window.event;
		console.log("resize move: ");
		console.log(e);
		e.preventDefault();
		if(e.buttons != 1) {
			mouseUp(e);
		}
		if(direction == 'h') {
			size = size + (start - e.clientX);
			start = e.clientX;
			element.style.width = size + "px";
		} else {
			size = size + (start - e.clientY);
			start = e.clientY;
			element.style.height = size + "px";
		}
		console.log("resize to: " + size);
	}
	
	function mouseUp(e) {
		console.log("resize done: ")
		console.log(e);
		e.preventDefault();
		document.onmouseup = null;
		document.onmousemove = null;
		console.log(callback);
		if(callback) {
			callback();
		}
	}
}
resizable(document.getElementById("code-box"), document.getElementById("code-size"), "v", () => window.fitAddon.fit());
resizable(document.getElementById("right"), document.getElementById("right-size"), "h");

</script>
</body>
</html>