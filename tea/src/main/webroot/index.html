<!DOCTYPE html>
<html style="height: 100vh">
<head>
<title>TurtleDuck</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="icon" href="static/images/turtleduck-icon.png"
	type="image/png" />

<script type="text/javascript" charset="utf-8" src="static/js/bundle.js"></script>
<script type="text/javascript" charset="utf-8"
	src="static/js/classes.js"></script>
<!-- 
<script type="text/javascript" charset="utf-8"
	src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
<script type="text/javascript" charset="utf-8"
	src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-java.min.js"></script> -->
<link rel="stylesheet" href="static/style.css" />
</head>
<body onload="main()">

	<div id="page" class="main-and-figure">
		<header id="top">
			<nav id="top-left">
				<img id="logoimg" src="static/images/turtleduck.svg" /> <a
					id="logotext" href="#"> TurtleDuck <span class="version">v${project.version}</span>
					<!-- span id="pond">&nbsp;</span-->
				</a>

			</nav>
			<nav id="top-menu">
				<button id="f1" data-shortcut="ctrl+s" class="row2" type=button>
					<span class="">Save</span><span class="icon">ğŸ’¾</span>
				</button>
				<button id="f2" data-shortcut="ctrl+2" class="row2" type=button>
					<span class="">Run</span><span class="icon">ğŸƒ</span>
				</button>
				<button id="f3" data-shortcut="ctrl+3" class="row2" type=button>
					<span class="">Test</span><span class="icon">ğŸˆ</span>
				</button>
				<button id="f4" data-shortcut="ctrl+4" class="row2" type=button>
					<span class=""></span>
				</button>
				<button id="f5" data-shortcut="ctrl+5" class="row2" type=button>
					<span class="">Explorer</span><span class="icon">ğŸ—ºï¸</span>
				</button>
				<button id="f6" data-shortcut="ctrl+6" class="row2" type=button>
					<span class="">Code</span><span class="icon">ğŸ“–</span>
				</button>
				<button id="f7" data-shortcut="ctrl+7" class="row2" type=button>
					<span class="">Command</span><span class="icon">âŒ¨ï¸</span>
				</button>
				<button id="f8" data-shortcut="ctrl+8" class="row2" type=button>
					<span class="">Graphics</span><span class="icon">ğŸ¨</span>
				</button>
				<button id="f9" data-shortcut="ctrl+9" class="row2" type=button>
					<span class="">Code/Gfx</span><span class="icon">ğŸ–¥ï¸</span>
					<!-- ğŸ–¼ï¸ -->
				</button>
				<button id="f11" data-shortcut="shift+ctrl+1" class="row1"
					type=button>
					<span class="long">Exercises</span><span class="icon">ğŸ‘©â€ğŸ«</span>
				</button>
				<button id="f12" data-shortcut="shift+ctrl+2" class="row1"
					type=button>
					<span class="">Debug</span><span class="icon">ğŸ›</span>
				</button>
				<button id="f13" data-shortcut="shift+ctrl+3" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f14" data-shortcut="shift+ctrl+4" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f15" data-shortcut="shift+ctrl+5" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f16" data-shortcut="shift+ctrl+6" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f17" data-shortcut="shift+ctrl+7" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f18" data-shortcut="shift+ctrl+8" class="row1"
					type=button>
					<span class=""></span>
				</button>
				<button id="f19" data-shortcut="shift+ctrl+9" class="row1"
					type=button>
					<span class="">Java â†“</span><span class="icon">â˜•</span>
				</button>
				<button id="help" data-shortcut="ctrl+?" class="rows" type=button>
					<span class="" style="font-size: x-large">?</span>
				</button>
			</nav>
			<nav id="top-right"></nav>
		</header>

		<fieldset id="explorer" class="box explorer widget">
			<legend>
				<span class="title">Explorer</span>
			</legend>
			<div class="body">
				<h2>
					<a id="explorer-head-var" href="#explorer-var" class="open empty"
						data-toggle="collapse">Variables</a>
				</h2>
				<ul id="explorer-var" class="collapse open empty" data-role="listview"></ul>
				<h2>
					<a id="explorer-head-method" href="#explorer-method" class="open empty"
						data-toggle="collapse">Methods</a>
				</h2>
				<ul id="explorer-method" class="collapse open empty" data-role="listview"></ul>
				<h2>
					<a id="explorer-head-type" href="#explorer-type" class="open empty"
						data-toggle="collapse">Types</a>
				</h2>
				<ul id="explorer-type" class="collapse open empty" data-role="listview"></ul>
				<h2>
					<a id="explorer-head-import" href="#explorer-import" class="open empty"
						data-toggle="collapse">Imports</a>
				</h2>
				<ul id="explorer-import" class="collapse open empty" data-role="listview"></ul>
			</div>
		</fieldset>

		<fieldset id="editor" class="box widget" data-widget="editor"
			data-provides="editor">
			<legend id="editor-tabs" class="">Code</legend>
			<div id="editor-wrap">
				<div id="editor-embed"></div>
			</div>
			<section data-reset-onclick="show-splash-help" class="splashhelp">
				<h2>Code Editor</h2>
				<p>Try..
				<ul class="shell-sample">
					<li><a href="#xtermjs" data-paste="/edit">/edit</a>
					<li><a href="#xtermjs" data-paste="/edit 2">/edit 2</a>
					<li><a href="#xtermjs" data-paste="/edit twice">/edit
							twice</a>
				</ul>
				<p>to open shell snippets in editor.
			</section>
		</fieldset>

		<!--div id="right-size" style="position:absolute;left:0px;margin-left:-5px;height:100%;width:5px;background:#ccc;z-index:100" ></div-->
		<fieldset id="figure0" class="box figure">
			<legend>
				<span class="title">Graphics</span>
			</legend>
			<nav class="toolbar">
				<button id="gfx-clear" type="button">Clear</button>
				<button id="gfx-save" type="button">Save</button>
			</nav>
			<div>
				<!-- svg id="svg0" viewBox="0 0 1280 720" preserveAspectRatio="xMinYMin slice"></svg-->
			<div id="excavator"></div>
					<svg id="svg0" tabindex="0" viewBox="-640 -360 1280 720"
					preserveAspectRatio="xMidYMid slice"></svg>
			</div>
			<div class="footnote" id="coordinates-svg0">(0,0)</div>
			<div class="box-foot">SVG</div>
			<section data-reset-onclick="show-splash-help" class="splashhelp">
				<h2>Graphics</h2>
				<p>For example, try...
				<ul class="shell-sample">
					<li><a href="#xtermjs" data-paste="turtle.draw(50);">turtle.draw(50);</a>
					<li><a href="#xtermjs"
						data-paste="for(int i = 0; i &lt; 360; i++) turtle.draw(2).turn(1);">for(int
							i = 0; i &lt; 360; i++) <br>&#x2000;&#x2000;
							turtle.draw(2).turn(1);
					</a>
				</ul>
			</section>
		</fieldset>
		<fieldset id="instructions" class="box widget figure"
			data-widget="instructions" data-provides="instructions"
			style="display: none">
			<legend>Method Bytecode</legend>
			<div id="bytecode-display"></div>
		</fieldset>

		<!-- div style="width: 100%; height: 10px; background: #f00"
			draggable="true"></div-->
		<fieldset id="console" class="box console">
			<legend>
				<span class="title">Shell</span>
			</legend>
			<!--div id="code-size" style="position:relative;top:0px;margin-top:-5px;width:100%;height:5px;background:#ccc;z-index:100"></div-->
			<div id="xtermjs-wrap" class="widget" data-widget="xtermjs"
				data-requires="jshell"></div>
			<section data-reset-onclick="show-splash-help" class="splashhelp">
				<h2>Shell</h2>
				<p>Evaluate expressions and declare variables, methods and
					classes
				<ul class="shell-sample">
					<li><a href="#xtermjs" data-paste="var x = 1 + 2">var x =
							1 + 2</a>
					<li><a href="#xtermjs" data-paste="x * 2">x * 2</a>
					<li><a href="#xtermjs"
						data-paste="int twice(int a) { return a + a; }">int twice(int
							a) { return a + a; }</a>
				</ul>
			</section>
		</fieldset>
		<footer id="bottom">
			<div id="foot-left"></div>
			<div id="foot-mid"></div>
			<div id="foot-right">
				<div id="sessionName" data-from="turtleduck.sessionName"></div>
				<div id="status" class="active">
					<ul id="status-pop" class="popup"></ul>
					<span id="status-button" type="button">OFFLINE</span>
				</div>
				<div id="error">
					<ul id="error-pop" class="popup"></ul>
					<button id="error-button" type="button">ERR!</button>
				</div>
			</div>
		</footer>
	</div>
	<audio id="music" src="static/images/desert-of-lost-souls-by-kevin-macleod-from-filmmusic-io.mp3"></audio>
	<script>
		function resizable(element, handle, direction, callback) {
			var start, size = 0;
			handle.onmousedown = mouseDown;
			function mouseDown(e) {
				e = e || window.event;
				console.log("resize start: ")
				console.log(e);
				e.preventDefault();
				if (direction == 'h') {
					start = e.clientX;
					size = element.clientWidth;
				} else {
					start = e.clientY;
					size = element.clientHeight;
				}
				document.onmouseup = mouseUp;
				document.onmousemove = mouseMove;
			}

			function mouseMove(e) {
				e = e || window.event;
				console.log("resize move: ");
				console.log(e);
				e.preventDefault();
				if (e.buttons != 1) {
					mouseUp(e);
				}
				if (direction == 'h') {
					size = size + (start - e.clientX);
					start = e.clientX;
					element.style.width = size + "px";
				} else {
					size = size + (start - e.clientY);
					start = e.clientY;
					element.style.height = size + "px";
				}
				console.log("resize to: " + size);
			}

			function mouseUp(e) {
				console.log("resize done: ")
				console.log(e);
				e.preventDefault();
				document.onmouseup = null;
				document.onmousemove = null;
				console.log(callback);
				if (callback) {
					callback();
				}
			}
		}
		//resizable(document.getElementById("code-box"), document.getElementById("code-size"), "v", () => window.fitAddon.fit());
		//resizable(document.getElementById("right"), document.getElementById("right-size"), "h");
		function trackMouse(element) {
			footnote = document.getElementById("coordinates-" + element.id)
			element.onmousemove = mouseMove;

			function mouseMove(e) {
				e = e || window.event;
				e.preventDefault();
				var p = new DOMPoint(e.clientX, e.clientY);
				var m = element.getScreenCTM().inverse();
				p = p.matrixTransform(m);
				footnote.textContent = "(" + Math.round(p.x) + ","
						+ Math.round(p.y) + ")";
			}
		}
		trackMouse(document.getElementById("svg0"));
	</script>
</body>
</html>